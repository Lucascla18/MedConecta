import{A as X,B as Y,C as Z,a as J,j as H,l as K,z as Q}from"./chunk-EYFEUQ7G.js";import{a as $,f as ee,l as ne}from"./chunk-BI3SNNQC.js";import{D as V,H as G}from"./chunk-RMY4OVEQ.js";import{$ as w,A as d,B as n,C as t,D as c,F as P,G as M,Ja as q,K as g,M as y,Ma as B,Na as U,O as h,P as u,Q as x,R as O,V as S,W as v,_ as D,da as E,ea as I,fa as k,ga as z,ha as R,ia as W,ja as T,ka as L,la as F,m as f,ta as A,w as a,wa as N,y as b,ya as j,z as _}from"./chunk-HUONWBXV.js";import"./chunk-WFQEB5QE.js";import"./chunk-7KGURMOZ.js";import"./chunk-KMRFCD75.js";import"./chunk-62GOUXOV.js";import"./chunk-QQOM2FGK.js";import"./chunk-KMHLOZFG.js";import"./chunk-NFKFN677.js";import"./chunk-4WFVMWDK.js";import"./chunk-MDMZPGPE.js";import"./chunk-L533IC4V.js";import"./chunk-NY44LQGJ.js";import"./chunk-IFR4H3YE.js";import"./chunk-LF5XB4YN.js";import{e as C}from"./chunk-BDMMXEV4.js";var te=()=>["/login"];function oe(i,r){i&1&&(n(0,"span",24),c(1,"ion-icon",25),g(2," Senhas conferem! "),t())}function ie(i,r){i&1&&(n(0,"span",26),c(1,"ion-icon",27),g(2," As senhas n\xE3o s\xE3o iguais. "),t())}function ae(i,r){if(i&1&&(n(0,"div",21),_(1,oe,3,0,"span",22)(2,ie,3,0,"span",23),t()),i&2){let p=M();a(),d("ngIf",p.formData.senha===p.formData.confirmarSenha),a(),d("ngIf",p.formData.senha!==p.formData.confirmarSenha)}}function re(i,r){if(i&1&&(n(0,"div",28),g(1),t()),i&2){let p=M();a(),y(" ",p.errorMessage," ")}}var Ce=(()=>{let r=class r{constructor(){this.formData={nome:"",email:"",senha:"",confirmarSenha:""},this.errorMessage=null,this.router=f(D),this.auth=f(V),this.firestore=f($),this.loadingCtrl=f(q),J({checkmarkCircleOutline:H,closeCircleOutline:K,logoGoogle:Y,logoFacebook:X,logoApple:Q,medkitOutline:Z})}handleRegister(){return C(this,null,function*(){if(this.errorMessage=null,!this.validarCampos())return;let l=yield this.loadingCtrl.create({message:"Registrando...",spinner:"crescent"});yield l.present();try{let e=(yield G(this.auth,this.formData.email,this.formData.senha)).user.uid,m=ee(this.firestore,`users/${e}`);yield ne(m,{nome:this.formData.nome,email:this.formData.email,tipoUsuario:"Paciente",dataCriacao:new Date().toISOString()}),console.log("Usu\xE1rio registrado com sucesso!",e),this.resetForm(),this.router.navigate(["/login"])}catch(s){this.handleAuthError(s)}finally{yield l.dismiss()}})}validarCampos(){this.formData.nome=this.formData.nome.trim(),this.formData.email=this.formData.email.trim(),this.formData.senha=this.formData.senha.trim(),this.formData.confirmarSenha=this.formData.confirmarSenha.trim();let{nome:l,email:s,senha:e,confirmarSenha:m}=this.formData;return!l||!s||!e||!m?(this.errorMessage="Por favor, preencha todos os campos.",!1):e!==m?(this.errorMessage="As senhas n\xE3o conferem.",!1):e.length<6?(this.errorMessage="A senha deve ter pelo menos 6 caracteres.",!1):!0}handleAuthError(l){console.error("Erro no registro:",l.code),l.code==="auth/email-already-in-use"?this.errorMessage="Este e-mail j\xE1 est\xE1 em uso.":l.code==="auth/invalid-email"?this.errorMessage="O e-mail informado n\xE3o \xE9 v\xE1lido.":this.errorMessage="Ocorreu um erro. Tente novamente."}resetForm(){this.formData={nome:"",email:"",senha:"",confirmarSenha:""},this.errorMessage=null}};r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=b({type:r,selectors:[["app-register"]],decls:34,vars:9,consts:[[1,"login-container"],[1,"login-card"],[1,"logo-header"],["src","assets/logo.jpg","alt","Logo MedConecta"],["id","register-form",3,"ngSubmit"],["lines","none"],["label","Nome Completo","label-placement","floating","type","text","placeholder","Seu nome","name","nome","required","",3,"ngModelChange","ngModel"],["label","E-mail","label-placement","floating","type","email","placeholder","seuemail@exemplo.com","name","email","required","","email","",3,"ngModelChange","ngModel"],["label","Senha","label-placement","floating","type","password","placeholder","Crie uma senha forte (m\xEDn. 6 caracteres)","name","senha","required","","minlength","6",3,"ngModelChange","ngModel"],["label","Confirmar Senha","label-placement","floating","type","password","placeholder","Confirme sua senha","name","confirmarSenha","required","",3,"ngModelChange","ngModel"],["class","validation-message",4,"ngIf"],["class","validation-message no-match",4,"ngIf"],["expand","block","shape","round","type","submit",1,"ion-margin-top",3,"disabled"],[1,"divider"],[1,"social-login-buttons"],["fill","clear","shape","round"],["slot","icon-only","name","logo-google"],["slot","icon-only","name","logo-facebook"],["slot","icon-only","name","logo-apple"],[1,"toggle-form"],[3,"routerLink"],[1,"validation-message"],["class","match",4,"ngIf"],["class","no-match",4,"ngIf"],[1,"match"],["name","checkmark-circle-outline"],[1,"no-match"],["name","close-circle-outline"],[1,"validation-message","no-match"]],template:function(s,e){s&1&&(n(0,"ion-content")(1,"div",0)(2,"div",1)(3,"div",2),c(4,"img",3),n(5,"h1"),g(6,"MedConecta"),t()(),n(7,"form",4),P("ngSubmit",function(){return e.handleRegister()}),n(8,"ion-item",5)(9,"ion-input",6),x("ngModelChange",function(o){return u(e.formData.nome,o)||(e.formData.nome=o),o}),t()(),n(10,"ion-item",5)(11,"ion-input",7),x("ngModelChange",function(o){return u(e.formData.email,o)||(e.formData.email=o),o}),t()(),n(12,"ion-item",5)(13,"ion-input",8),x("ngModelChange",function(o){return u(e.formData.senha,o)||(e.formData.senha=o),o}),t()(),n(14,"ion-item",5)(15,"ion-input",9),x("ngModelChange",function(o){return u(e.formData.confirmarSenha,o)||(e.formData.confirmarSenha=o),o}),t()(),_(16,ae,3,2,"div",10)(17,re,2,1,"div",11),n(18,"ion-button",12),g(19," Criar Conta "),t()(),n(20,"div",13),g(21,"ou continue com"),t(),n(22,"div",14)(23,"ion-button",15),c(24,"ion-icon",16),t(),n(25,"ion-button",15),c(26,"ion-icon",17),t(),n(27,"ion-button",15),c(28,"ion-icon",18),t()(),n(29,"div",19)(30,"span"),g(31,"J\xE1 tem uma conta?"),t(),n(32,"a",20),g(33,"Entrar"),t()()()()()),s&2&&(a(9),h("ngModel",e.formData.nome),a(2),h("ngModel",e.formData.email),a(2),h("ngModel",e.formData.senha),a(2),h("ngModel",e.formData.confirmarSenha),a(),d("ngIf",e.formData.confirmarSenha.length>0),a(),d("ngIf",e.errorMessage),a(),d("disabled",e.formData.senha!==e.formData.confirmarSenha&&e.formData.confirmarSenha.length>0),a(14),d("routerLink",O(8,te)))},dependencies:[v,S,F,R,E,I,W,L,T,z,k,w,N,j,U,A,B],styles:['@charset "UTF-8";[_nghost-%COMP%]{--ion-font-family: "Inter", sans-serif;display:block;height:100%}ion-content[_ngcontent-%COMP%]{--background: #ffffff;--ion-background-color: #ffffff;--overflow: auto;--height: 100%}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;min-height:100%;padding:0 20px;box-sizing:border-box}.login-card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:transparent;box-shadow:none;border:none;margin:0;display:flex;flex-direction:column;gap:16px;transition:gap .3s ease;padding-top:40px;padding-bottom:40px}.logo-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.logo-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain;transition:all .3s ease}.logo-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-top:8px;color:#1e293b;transition:font-size .3s ease}ion-item[_ngcontent-%COMP%]{--background: #f8fafc;--border-radius: 12px;--padding-start: 16px;--inner-border-width: 0;color:#0f172a;margin-bottom:12px;border:1px solid #e2e8f0;height:52px;--min-height: 52px;transition:all .3s ease}ion-button[shape=round][_ngcontent-%COMP%]{--border-radius: 12px;height:50px;font-weight:600;font-size:16px;margin-top:10px;--box-shadow: 0 4px 12px rgba(var(--ion-color-primary-rgb), .25);transition:height .3s ease}.social-login-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:12px}.social-login-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:0 0 70px;height:48px;--background: #f8fafc;--border-color: #e2e8f0;--border-width: 1px;--border-style: solid;--box-shadow: none;font-size:20px;--color: #334155;--border-radius: 10px}.validation-message[_ngcontent-%COMP%]{font-size:13px;margin-top:-8px;margin-bottom:8px;display:flex;align-items:center;gap:4px}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;color:#94a3b8;font-size:13px;margin:16px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #e2e8f0}.divider[_ngcontent-%COMP%]:not(:empty):before{margin-right:1em}.divider[_ngcontent-%COMP%]:not(:empty):after{margin-left:1em}.toggle-form[_ngcontent-%COMP%]{text-align:center;margin-top:10px;font-size:14px;color:#64748b}.toggle-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:700;text-decoration:none;margin-left:4px}@media (max-height: 760px){.login-container[_ngcontent-%COMP%]{padding:10px 16px;justify-content:flex-start}.login-card[_ngcontent-%COMP%]{gap:8px;padding-top:20px;padding-bottom:20px}.logo-header[_ngcontent-%COMP%]{margin-bottom:0}.logo-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.logo-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;margin-top:2px;display:block!important}ion-item[_ngcontent-%COMP%]{height:48px;--min-height: 48px;margin-bottom:6px;font-size:14px;--padding-start: 12px}.validation-message[_ngcontent-%COMP%]{margin-bottom:6px}ion-button[shape=round][_ngcontent-%COMP%]{height:40px;margin-top:4px;font-size:14px}.divider[_ngcontent-%COMP%]{margin:8px 0;font-size:11px}.social-login-buttons[_ngcontent-%COMP%]{gap:10px}.social-login-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:0 0 60px;height:40px;font-size:16px}.toggle-form[_ngcontent-%COMP%]{margin-top:6px;padding-bottom:10px;font-size:12px}}@media (max-height: 600px){.logo-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px;height:45px}.logo-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}.login-card[_ngcontent-%COMP%]{gap:4px}ion-item[_ngcontent-%COMP%]{height:40px;--min-height: 40px;margin-bottom:4px}.validation-message[_ngcontent-%COMP%]{font-size:12px}}']});let i=r;return i})();export{Ce as RegisterPage};
