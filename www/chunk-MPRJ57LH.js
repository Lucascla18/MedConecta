import{E as H,L,M as q,a as N,o as U,v as j,y as R}from"./chunk-EYFEUQ7G.js";import{a as B,f as K,g as V}from"./chunk-BI3SNNQC.js";import{D as z,J as D,M as F}from"./chunk-RMY4OVEQ.js";import{A as p,Aa as I,B as t,C as i,D as s,Ea as y,F as c,Fa as w,I as x,Ia as T,K as o,L as g,M as C,Ma as A,W as b,la as P,m as u,ma as O,ta as v,w as l,wa as M,x as h,xa as S,y as _,ya as k,za as E}from"./chunk-HUONWBXV.js";import"./chunk-WFQEB5QE.js";import"./chunk-7KGURMOZ.js";import"./chunk-KMRFCD75.js";import"./chunk-62GOUXOV.js";import"./chunk-QQOM2FGK.js";import"./chunk-KMHLOZFG.js";import"./chunk-NFKFN677.js";import"./chunk-4WFVMWDK.js";import"./chunk-MDMZPGPE.js";import"./chunk-L533IC4V.js";import"./chunk-NY44LQGJ.js";import"./chunk-IFR4H3YE.js";import"./chunk-LF5XB4YN.js";import{e as d}from"./chunk-BDMMXEV4.js";var ne=(()=>{let m=class m{constructor(){this.userName="Carregando...",this.userEmail="...",this.userInitials="",this.avatarColor="#e2e8f0",this.auth=u(z),this.firestore=u(B),this.navCtrl=u(O),this.alertCtrl=u(T),this.zone=u(h),N({pencilOutline:H,documentTextOutline:U,timeOutline:q,settingsOutline:L,helpCircleOutline:j,logOutOutline:R})}ngOnInit(){this.loadUserProfile()}loadUserProfile(){D(this.auth,e=>d(this,null,function*(){if(e){this.zone.run(()=>{this.userEmail=e.email||"Sem email"});try{let r=K(this.firestore,"users",e.uid),n=yield V(r);this.zone.run(()=>{if(n.exists()){let a=n.data();this.userName=a.nome||"Usu\xE1rio",this.generateInitials(this.userName),this.avatarColor="#dbeafe"}else this.userName="Perfil n\xE3o encontrado"})}catch(r){console.error("Erro ao carregar perfil:",r)}}else this.navCtrl.navigateRoot("/login")}))}generateInitials(e){e&&e.length>0?this.userInitials=e.charAt(0).toUpperCase():this.userInitials="U"}goTo(e){e==="history"?this.navCtrl.navigateRoot("/tabs/consultas"):e==="settings"?this.presentAlert("Configura\xE7\xF5es","Em breve voc\xEA poder\xE1 editar suas prefer\xEAncias."):e==="documents"?this.presentAlert("Documentos","Em breve voc\xEA poder\xE1 anexar exames."):e==="help"&&this.presentAlert("Ajuda","Entre em contato pelo email: suporte@medconecta.com")}editProfile(){return d(this,null,function*(){this.presentAlert("Editar Perfil","Funcionalidade de edi\xE7\xE3o em breve.")})}logout(){return d(this,null,function*(){yield(yield this.alertCtrl.create({header:"Sair",message:"Tem certeza que deseja sair da sua conta?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Sair",role:"destructive",handler:()=>d(this,null,function*(){yield F(this.auth),this.navCtrl.navigateRoot("/login")})}]})).present()})}presentAlert(e,r){return d(this,null,function*(){yield(yield this.alertCtrl.create({header:e,message:r,buttons:["OK"]})).present()})}};m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=_({type:m,selectors:[["app-profile"]],decls:40,vars:7,consts:[[1,"ion-no-border"],[1,"profile-header"],[1,"custom-avatar-large"],["shape","round","fill","outline","size","small",3,"click"],["slot","start","name","pencil-outline"],[3,"inset"],["button","","detail","true",3,"click"],["slot","start","name","document-text-outline",1,"icon-blue"],["slot","start","name","time-outline",1,"icon-purple"],["slot","start","name","settings-outline",1,"icon-grey"],["slot","start","name","help-circle-outline",1,"icon-orange"],["button","","lines","none","detail","false",3,"click"],["slot","start","name","log-out-outline","color","danger"],["color","danger"],[1,"version-footer"]],template:function(r,n){r&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o(3,"Meu Perfil"),i()()(),t(4,"ion-content")(5,"div",1)(6,"div",2),o(7),i(),t(8,"h2"),o(9),i(),t(10,"p"),o(11),i(),t(12,"ion-button",3),c("click",function(){return n.editProfile()}),s(13,"ion-icon",4),o(14," Editar Perfil "),i()(),t(15,"ion-list",5)(16,"ion-item",6),c("click",function(){return n.goTo("documents")}),s(17,"ion-icon",7),t(18,"ion-label"),o(19,"Meus Documentos"),i()(),t(20,"ion-item",6),c("click",function(){return n.goTo("history")}),s(21,"ion-icon",8),t(22,"ion-label"),o(23,"Hist\xF3rico de Consultas"),i()(),t(24,"ion-item",6),c("click",function(){return n.goTo("settings")}),s(25,"ion-icon",9),t(26,"ion-label"),o(27,"Configura\xE7\xF5es"),i()(),t(28,"ion-item",6),c("click",function(){return n.goTo("help")}),s(29,"ion-icon",10),t(30,"ion-label"),o(31,"Ajuda e Suporte"),i()()(),t(32,"ion-list",5)(33,"ion-item",11),c("click",function(){return n.logout()}),s(34,"ion-icon",12),t(35,"ion-label",13),o(36,"Sair da Conta"),i()()(),t(37,"div",14)(38,"p"),o(39,"Vers\xE3o 1.0.0"),i()()()),r&2&&(l(6),x("background-color",n.avatarColor),l(),C(" ",n.userInitials," "),l(2),g(n.userName),l(2),g(n.userEmail),l(4),p("inset",!0),l(17),p("inset",!0))},dependencies:[b,P,S,w,y,M,v,A,I,k,E],styles:['@charset "UTF-8";ion-toolbar[_ngcontent-%COMP%]{--background: #ffffff}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:700;color:#1e293b;padding-left:16px}ion-content[_ngcontent-%COMP%]{--background: #f8fafc}.profile-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px 16px 32px;background:#fff;border-radius:0 0 30px 30px;box-shadow:0 4px 20px #00000008;margin-bottom:20px}.profile-header[_ngcontent-%COMP%]   .custom-avatar-large[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:16px;border:4px solid #ffffff;box-shadow:0 8px 24px #0000001f;color:#334155;font-size:36px;font-weight:800}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:0 0 4px;color:#1e293b}.profile-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0 0 20px}.profile-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 20px;--border-color: #cbd5e1;--color: #475569;font-weight:600;text-transform:none;letter-spacing:0}ion-list[_ngcontent-%COMP%]{background:transparent;padding-top:0}ion-list[inset=true][_ngcontent-%COMP%]{border-radius:20px;box-shadow:0 4px 12px #0000000a;margin:0 20px 20px;background:#fff;overflow:hidden}ion-item[_ngcontent-%COMP%]{--background: #ffffff;--color: #334155;--padding-start: 16px;--inner-padding-end: 16px;font-weight:500;font-size:15px}ion-item[_ngcontent-%COMP%]   .icon-blue[_ngcontent-%COMP%]{color:#3b82f6}ion-item[_ngcontent-%COMP%]   .icon-purple[_ngcontent-%COMP%]{color:#8b5cf6}ion-item[_ngcontent-%COMP%]   .icon-grey[_ngcontent-%COMP%]{color:#64748b}ion-item[_ngcontent-%COMP%]   .icon-orange[_ngcontent-%COMP%]{color:#f97316}.version-footer[_ngcontent-%COMP%]{text-align:center;padding:10px}.version-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#cbd5e1}']});let f=m;return f})();export{ne as ProfilePage};
